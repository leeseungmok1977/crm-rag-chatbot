# POSCO International CRM RAG Chatbot - ì„¤ê³„ ë¬¸ì„œ

**í”„ë¡œì íŠ¸ëª…**: POSCO International CRM AI Assistant
**ë²„ì „**: 1.0.0
**ì‘ì„±ì¼**: 2025-11-03
**ì‘ì„±ì**: AI Development Team
**ë¬¸ì„œ íƒ€ì…**: ì‹œìŠ¤í…œ ì„¤ê³„ ë° ì•„í‚¤í…ì²˜ ëª…ì„¸ì„œ

---

## ğŸ“‹ ëª©ì°¨

1. [í”„ë¡œì íŠ¸ ê°œìš”](#1-í”„ë¡œì íŠ¸-ê°œìš”)
2. [ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜](#2-ì‹œìŠ¤í…œ-ì•„í‚¤í…ì²˜)
3. [ë¬¸ì„œ êµ¬ì¡° ë° ê´€ë¦¬ ì „ëµ](#3-ë¬¸ì„œ-êµ¬ì¡°-ë°-ê´€ë¦¬-ì „ëµ)
4. [RAG íŒŒì´í”„ë¼ì¸ ì„¤ê³„](#4-rag-íŒŒì´í”„ë¼ì¸-ì„¤ê³„)
5. [ê¸°ìˆ  ìŠ¤íƒ](#5-ê¸°ìˆ -ìŠ¤íƒ)
6. [ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ](#6-ë°ì´í„°ë² ì´ìŠ¤-ìŠ¤í‚¤ë§ˆ)
7. [API ì„¤ê³„](#7-api-ì„¤ê³„)
8. [ë³´ì•ˆ ë° ê¶Œí•œ ê´€ë¦¬](#8-ë³´ì•ˆ-ë°-ê¶Œí•œ-ê´€ë¦¬)
9. [ì„±ëŠ¥ ìµœì í™” ì „ëµ](#9-ì„±ëŠ¥-ìµœì í™”-ì „ëµ)
10. [í…ŒìŠ¤íŠ¸ ì „ëµ](#10-í…ŒìŠ¤íŠ¸-ì „ëµ)
11. [ë°°í¬ ë° ìš´ì˜](#11-ë°°í¬-ë°-ìš´ì˜)
12. [êµ¬í˜„ ë¡œë“œë§µ](#12-êµ¬í˜„-ë¡œë“œë§µ)

---

## 1. í”„ë¡œì íŠ¸ ê°œìš”

### 1.1 ëª©ì 
POSCO International ì„ì§ì›ì„ ìœ„í•œ CRM ì‹œìŠ¤í…œ ì „ìš© AI ì±—ë´‡ êµ¬ì¶•
- CRM ë§¤ë‰´ì–¼ ê¸°ë°˜ ì‹¤ì‹œê°„ ì§ˆì˜ì‘ë‹µ
- ë‹¤êµ­ì–´ ì§€ì› (í•œêµ­ì–´/ì˜ì–´)
- ì»¨í…ìŠ¤íŠ¸ ê¸°ë°˜ ì •í™•í•œ ë‹µë³€ ì œê³µ

### 1.2 ì£¼ìš” ê¸°ëŠ¥
- âœ… **ìì—°ì–´ ì§ˆì˜ì‘ë‹µ**: CRM ì‚¬ìš©ë²•, ë¬¸ì œ í•´ê²° ê°€ì´ë“œ
- âœ… **ë‹¤êµ­ì–´ ì§€ì›**: í•œêµ­ì–´/ì˜ì–´ ë§¤ë‰´ì–¼ ìë™ ì„ íƒ
- âœ… **ì»¨í…ìŠ¤íŠ¸ ì¸ì‹**: ëŒ€í™” ì´ë ¥ ê¸°ë°˜ ë§¥ë½ ì´í•´
- âœ… **ìŠ¤ë§ˆíŠ¸ ë¼ìš°íŒ…**: ì§ˆë¬¸ ìœ í˜•ë³„ ìµœì  ë¬¸ì„œ ìë™ ì„ íƒ
- âœ… **ì†ŒìŠ¤ ì¶”ì **: ë‹µë³€ ì¶œì²˜ ëª…ì‹œ (í˜ì´ì§€ ë²ˆí˜¸, ì„¹ì…˜)

### 1.3 ëŒ€ìƒ ì‚¬ìš©ì
- POSCO International ì „ ì„ì§ì›
- CRM ì‹œìŠ¤í…œ ì‹ ê·œ ì‚¬ìš©ì
- CRM ê´€ë¦¬ì ë° í—¬í”„ë°ìŠ¤í¬

### 1.4 ì„±ê³µ ì§€í‘œ
- **ì •í™•ë„**: 95% ì´ìƒ (ì‚¬ìš©ì ë§Œì¡±ë„ ê¸°ì¤€)
- **ì‘ë‹µ ì‹œê°„**: í‰ê·  2ì´ˆ ì´ë‚´
- **ì»¤ë²„ë¦¬ì§€**: CRM ì „ì²´ ê¸°ëŠ¥ 100% í¬í•¨
- **ì‚¬ìš©ë¥ **: ì›” í™œì„± ì‚¬ìš©ì 70% ì´ìƒ

---

## 2. ì‹œìŠ¤í…œ ì•„í‚¤í…ì²˜

### 2.1 ì „ì²´ ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         ì‚¬ìš©ì ì¸í„°í˜ì´ìŠ¤                          â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Web UI   â”‚  â”‚ Teams Botâ”‚  â”‚ Mobile   â”‚  â”‚  API     â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚             â”‚             â”‚             â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”´â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      API Gateway & Load Balancer      â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         ì±—ë´‡ ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ ë ˆì´ì–´        â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  Query Preprocessor             â”‚  â”‚
        â”‚  â”‚  - ì–¸ì–´ ê°ì§€                     â”‚  â”‚
        â”‚  â”‚  - ì˜ë„ ë¶„ë¥˜                     â”‚  â”‚
        â”‚  â”‚  - ì¿¼ë¦¬ ì •ê·œí™”                   â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â”‚            â”‚                           â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
        â”‚  â”‚  Smart Router                   â”‚  â”‚
        â”‚  â”‚  - ë¬¸ì„œ íƒ€ì… ì„ íƒ                â”‚  â”‚
        â”‚  â”‚  - ê²€ìƒ‰ ì „ëµ ê²°ì •                â”‚  â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                     â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚         RAG Engine                   â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”‚
        â”‚  â”‚  Retriever   â”‚  â”‚  Generator   â”‚ â”‚
        â”‚  â”‚              â”‚  â”‚              â”‚ â”‚
        â”‚  â”‚  - Hybrid    â”‚  â”‚  - LLM       â”‚ â”‚
        â”‚  â”‚    Search    â”‚  â”‚  - Prompt    â”‚ â”‚
        â”‚  â”‚  - Reranking â”‚  â”‚  - Response  â”‚ â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â–²â”€â”€â”€â”€â”€â”€â”€â”˜ â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                  â”‚                  â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¼â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â”‚      Vector Database       â”‚         â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚         â”‚
        â”‚  â”‚  Account & Contact   â”‚  â”‚         â”‚
        â”‚  â”‚  (KO/EN)             â”‚  â”‚         â”‚
        â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚         â”‚
        â”‚  â”‚  Meeting Memo        â”‚  â”‚         â”‚
        â”‚  â”‚  (KO/EN)             â”‚  â”‚         â”‚
        â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚         â”‚
        â”‚  â”‚  Order & Fulfillment â”‚  â”‚         â”‚
        â”‚  â”‚  (KO/EN)             â”‚  â”‚         â”‚
        â”‚  â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤  â”‚         â”‚
        â”‚  â”‚  Common & Master     â”‚  â”‚         â”‚
        â”‚  â”‚  (KO/EN)             â”‚  â”‚         â”‚
        â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚         â”‚
        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜         â”‚
                                                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
        â”‚
        â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
        â””â”€>â”‚  LLM Service                    â”‚
           â”‚  - GPT-4 / Claude               â”‚
           â”‚  - Embedding Model              â”‚
           â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    ì§€ì› ì‹œìŠ¤í…œ                                 â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”    â”‚
â”‚  â”‚ ë¡œê¹…     â”‚  â”‚ ëª¨ë‹ˆí„°ë§  â”‚  â”‚ ìºì‹±     â”‚  â”‚ ë¶„ì„     â”‚    â”‚
â”‚  â”‚ (ELK)    â”‚  â”‚(Grafana) â”‚  â”‚ (Redis)  â”‚  â”‚(Analytics)â”‚   â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### 2.2 ì£¼ìš” ì»´í¬ë„ŒíŠ¸ ì„¤ëª…

#### 2.2.1 API Gateway
- **ì—­í• **: ìš”ì²­ ë¼ìš°íŒ…, ì¸ì¦, Rate Limiting
- **ê¸°ìˆ **: FastAPI / Kong
- **ê¸°ëŠ¥**:
  - JWT í† í° ê²€ì¦
  - API ë²„ì „ ê´€ë¦¬
  - ìš”ì²­/ì‘ë‹µ ë¡œê¹…

#### 2.2.2 Query Preprocessor
- **ì—­í• **: ì‚¬ìš©ì ì§ˆë¬¸ ì „ì²˜ë¦¬
- **ê¸°ëŠ¥**:
  - ì–¸ì–´ ê°ì§€ (langdetect)
  - ë§ì¶¤ë²• êµì •
  - ë™ì˜ì–´ ì²˜ë¦¬
  - ì¿¼ë¦¬ í™•ì¥

#### 2.2.3 Smart Router
- **ì—­í• **: ìµœì  ë¬¸ì„œ ìë™ ì„ íƒ
- **ì•Œê³ ë¦¬ì¦˜**:
  ```python
  def route_query(query, language, context):
      # 1. í‚¤ì›Œë“œ ê¸°ë°˜ 1ì°¨ ë¶„ë¥˜
      keywords_map = {
          "account": ["ê±°ë˜ì„ ", "ì—°ë½ì²˜", "ê³ ê°", "account", "contact"],
          "meeting": ["ë¯¸íŒ…", "ë©”ëª¨", "íšŒì˜", "meeting", "memo"],
          "order": ["ì£¼ë¬¸", "ë°œì£¼", "ê³„ì•½", "order", "fulfillment"],
          "common": ["ê³µí†µ", "ì„¤ì •", "ê¶Œí•œ", "common", "master"]
      }

      # 2. LLM ê¸°ë°˜ ì˜ë„ ë¶„ë¥˜ (Fallback)
      if no_clear_match:
          intent = llm_classify(query)

      # 3. ë©”íƒ€ë°ì´í„° í•„í„° ìƒì„±
      filters = {
          "type": intent,
          "language": language
      }

      return filters
  ```

#### 2.2.4 RAG Engine
- **Retriever**: í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰
  - BM25 (í‚¤ì›Œë“œ ê¸°ë°˜)
  - Vector Search (ì˜ë¯¸ ê¸°ë°˜)
  - Fusion Ranking
- **Reranker**: Cross-Encoder ì¬ì •ë ¬
- **Generator**: LLM ê¸°ë°˜ ë‹µë³€ ìƒì„±

---

## 3. ë¬¸ì„œ êµ¬ì¡° ë° ê´€ë¦¬ ì „ëµ

### 3.1 ì›ë³¸ ë¬¸ì„œ êµ¬ì¡°

```
PDF/
â”œâ”€â”€ korean/
â”‚   â”œâ”€â”€ P_INTL_CRM ë§¤ë‰´ì–¼(êµ­ë¬¸)_ê±°ë˜ì„ &ì—°ë½ì²˜.pdf      [9.9MB]
â”‚   â”œâ”€â”€ P_INTL_CRM ë§¤ë‰´ì–¼(êµ­ë¬¸)_ë¯¸íŒ…ë©”ëª¨.pdf          [9.5MB]
â”‚   â”œâ”€â”€ P_INTL_CRM ë§¤ë‰´ì–¼(êµ­ë¬¸)_Order&Fulfillment.pdf [5.2MB]
â”‚   â””â”€â”€ P_INTL_CRM ë§¤ë‰´ì–¼(êµ­ë¬¸)_ê³µí†µ&Master.pdf       [3.9MB]
â””â”€â”€ english/
    â”œâ”€â”€ P_INTL_CRM Guide Book(ENG)_Account&Contact.pdf [10.6MB]
    â”œâ”€â”€ P_INTL_CRM Guide Book(ENG)_Meeting Memo.pdf    [12.9MB]
    â”œâ”€â”€ P_INTL_CRM Guide Book(ENG)_Order&Fulfillment.pdf [5.5MB]
    â””â”€â”€ P_INTL_CRM Guide Book(ENG)_Common&Master.pdf    [4.0MB]
```

### 3.2 ë¬¸ì„œ ë©”íƒ€ë°ì´í„° ìŠ¤í‚¤ë§ˆ

```json
{
  "document_id": "crm_account_ko_v1",
  "type": "account_contact",
  "language": "korean",
  "version": "1.0",
  "last_updated": "2025-11-03",
  "source_file": "P_INTL_CRM ë§¤ë‰´ì–¼(êµ­ë¬¸)_ê±°ë˜ì„ &ì—°ë½ì²˜.pdf",
  "total_pages": 150,
  "sections": [
    {
      "section_id": "1.1",
      "title": "ê±°ë˜ì„  ë“±ë¡",
      "page_start": 10,
      "page_end": 25,
      "keywords": ["ê±°ë˜ì„ ", "ë“±ë¡", "ì‹ ê·œ", "ìƒì„±"]
    }
  ],
  "checksum": "sha256:abc123..."
}
```

### 3.3 ë¬¸ì„œ ë¶„ë¦¬ ì „ëµ (ê¶Œì¥)

**âœ… ì„ íƒ: 8ê°œ ë…ë¦½ ì»¬ë ‰ì…˜ ìœ ì§€**

| ì»¬ë ‰ì…˜ ID | íƒ€ì… | ì–¸ì–´ | ìš©ë„ |
|----------|------|------|------|
| `crm_account_ko` | ê±°ë˜ì„ &ì—°ë½ì²˜ | í•œêµ­ì–´ | ê³ ê° ê´€ë¦¬ ê´€ë ¨ ì§ˆë¬¸ |
| `crm_account_en` | Account&Contact | ì˜ì–´ | Customer management |
| `crm_meeting_ko` | ë¯¸íŒ…ë©”ëª¨ | í•œêµ­ì–´ | íšŒì˜ë¡ ê´€ë ¨ ì§ˆë¬¸ |
| `crm_meeting_en` | Meeting Memo | ì˜ì–´ | Meeting records |
| `crm_order_ko` | ì£¼ë¬¸&ì´í–‰ | í•œêµ­ì–´ | ì£¼ë¬¸ í”„ë¡œì„¸ìŠ¤ |
| `crm_order_en` | Order&Fulfillment | ì˜ì–´ | Order process |
| `crm_common_ko` | ê³µí†µ&Master | í•œêµ­ì–´ | ê³µí†µ ê¸°ëŠ¥, ì„¤ì • |
| `crm_common_en` | Common&Master | ì˜ì–´ | Common features |

### 3.4 ì²­í‚¹(Chunking) ì „ëµ

#### ì˜µì…˜ A: ê³ ì • í¬ê¸° ì²­í‚¹ (Simple)
```python
CHUNK_SIZE = 1000  # ë¬¸ì ìˆ˜
CHUNK_OVERLAP = 200  # ì¤‘ë³µ ì˜ì—­
```

#### ì˜µì…˜ B: ì˜ë¯¸ ë‹¨ìœ„ ì²­í‚¹ (Recommended)
```python
# ì„¹ì…˜ ê¸°ë°˜ ì²­í‚¹
- ëŒ€ì œëª©(H1) â†’ ë…ë¦½ ì²­í¬
- ì¤‘ì œëª©(H2) â†’ ì„œë¸Œ ì²­í¬
- í‘œ/ì´ë¯¸ì§€ â†’ ë³„ë„ ì²­í¬ (ìº¡ì…˜ í¬í•¨)

# ì²­í¬ í¬ê¸° ì œí•œ
MIN_CHUNK_SIZE = 200
MAX_CHUNK_SIZE = 1500
```

#### ì²­í‚¹ ì˜ˆì‹œ
```python
# Input: PDF í˜ì´ì§€
"""
2.1 ê±°ë˜ì„  ë“±ë¡ ì ˆì°¨

ê±°ë˜ì„ ì„ ë“±ë¡í•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”:
1. CRM ë©”ë‰´ > ê±°ë˜ì„  ê´€ë¦¬ í´ë¦­
2. [ì‹ ê·œ ë“±ë¡] ë²„íŠ¼ í´ë¦­
3. í•„ìˆ˜ í•­ëª© ì…ë ¥:
   - ê±°ë˜ì„ ëª…
   - ì‚¬ì—…ìë²ˆí˜¸
   - ëŒ€í‘œìëª…
4. [ì €ì¥] í´ë¦­
"""

# Output: ì²­í¬ + ë©”íƒ€ë°ì´í„°
{
  "chunk_id": "crm_account_ko_p15_c1",
  "text": "ê±°ë˜ì„  ë“±ë¡ ì ˆì°¨\n\nê±°ë˜ì„ ì„ ë“±ë¡í•˜ë ¤ë©´...",
  "metadata": {
    "document_id": "crm_account_ko_v1",
    "section": "2.1",
    "section_title": "ê±°ë˜ì„  ë“±ë¡ ì ˆì°¨",
    "page": 15,
    "type": "account_contact",
    "language": "korean",
    "keywords": ["ê±°ë˜ì„ ", "ë“±ë¡", "ì‹ ê·œ"],
    "parent_chunk": null,
    "child_chunks": []
  }
}
```

---

## 4. RAG íŒŒì´í”„ë¼ì¸ ì„¤ê³„

### 4.1 ì „ì²´ í”Œë¡œìš°

```
ì‚¬ìš©ì ì§ˆë¬¸
    â†“
[1] Query Preprocessing
    - ì–¸ì–´ ê°ì§€
    - ì˜¤íƒ€ êµì •
    - ì¿¼ë¦¬ í™•ì¥
    â†“
[2] Intent Classification
    - ë¬¸ì„œ íƒ€ì… ì˜ˆì¸¡
    - ê²€ìƒ‰ ì „ëµ ì„ íƒ
    â†“
[3] Retrieval (í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰)
    - BM25 ê²€ìƒ‰ (Top 20)
    - Vector ê²€ìƒ‰ (Top 20)
    - Fusion (RRF)
    â†“
[4] Reranking
    - Cross-Encoder ì¬ì •ë ¬
    - Top 5 ì„ íƒ
    â†“
[5] Context Building
    - ì²­í¬ ì¡°í•©
    - ì£¼ë³€ ë¬¸ë§¥ ì¶”ê°€
    â†“
[6] Generation
    - í”„ë¡¬í”„íŠ¸ êµ¬ì„±
    - LLM í˜¸ì¶œ
    - ë‹µë³€ ìƒì„±
    â†“
[7] Post-processing
    - ì†ŒìŠ¤ ë§í¬ ì¶”ê°€
    - í¬ë§·íŒ…
    â†“
ì‚¬ìš©ìì—ê²Œ ë‹µë³€ ë°˜í™˜
```

### 4.2 í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜

#### 4.2.1 BM25 ê²€ìƒ‰ (í‚¤ì›Œë“œ ê¸°ë°˜)
```python
from rank_bm25 import BM25Okapi

def bm25_search(query, documents, k=20):
    """
    BM25 ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ í‚¤ì›Œë“œ ë§¤ì¹­
    - ì¥ì : ì •í™•í•œ ìš©ì–´ ë§¤ì¹­
    - ë‹¨ì : ë™ì˜ì–´ ì²˜ë¦¬ ì•½í•¨
    """
    tokenized_docs = [doc.split() for doc in documents]
    bm25 = BM25Okapi(tokenized_docs)
    scores = bm25.get_scores(query.split())
    top_k = np.argsort(scores)[-k:][::-1]
    return top_k
```

#### 4.2.2 Vector ê²€ìƒ‰ (ì˜ë¯¸ ê¸°ë°˜)
```python
def vector_search(query, vector_store, k=20):
    """
    ì„ë² ë”© ê¸°ë°˜ ì˜ë¯¸ì  ìœ ì‚¬ë„ ê²€ìƒ‰
    - ì¥ì : ë™ì˜ì–´, ìœ ì‚¬ í‘œí˜„ ë§¤ì¹­
    - ë‹¨ì : ì •í™•í•œ ìš©ì–´ ë§¤ì¹­ ì•½í•¨
    """
    query_embedding = embeddings.embed_query(query)
    results = vector_store.similarity_search_by_vector(
        query_embedding,
        k=k,
        filter={"language": detected_lang, "type": predicted_type}
    )
    return results
```

#### 4.2.3 Reciprocal Rank Fusion (RRF)
```python
def reciprocal_rank_fusion(bm25_results, vector_results, k=60):
    """
    ë‘ ê²€ìƒ‰ ê²°ê³¼ë¥¼ ìœµí•©
    RRF Score = Î£(1 / (k + rank_i))
    """
    scores = {}

    # BM25 ì ìˆ˜
    for rank, doc_id in enumerate(bm25_results):
        scores[doc_id] = scores.get(doc_id, 0) + 1 / (k + rank + 1)

    # Vector ì ìˆ˜
    for rank, doc_id in enumerate(vector_results):
        scores[doc_id] = scores.get(doc_id, 0) + 1 / (k + rank + 1)

    # ì •ë ¬
    sorted_docs = sorted(scores.items(), key=lambda x: x[1], reverse=True)
    return sorted_docs
```

### 4.3 Reranking (ì¬ì •ë ¬)

```python
from sentence_transformers import CrossEncoder

def rerank_results(query, candidates, top_k=5):
    """
    Cross-Encoderë¡œ ì •ë°€ ì¬ì •ë ¬
    ëª¨ë¸: ms-marco-MiniLM-L-12-v2
    """
    model = CrossEncoder('cross-encoder/ms-marco-MiniLM-L-12-v2')

    # ì¿¼ë¦¬-ë¬¸ì„œ ìŒ ìƒì„±
    pairs = [(query, doc.page_content) for doc in candidates]

    # ì ìˆ˜ ê³„ì‚°
    scores = model.predict(pairs)

    # Top K ì„ íƒ
    ranked_results = sorted(
        zip(candidates, scores),
        key=lambda x: x[1],
        reverse=True
    )[:top_k]

    return ranked_results
```

### 4.4 í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§

```python
SYSTEM_PROMPT = """
ë‹¹ì‹ ì€ POSCO Internationalì˜ CRM ì‹œìŠ¤í…œ ì „ë¬¸ AI ì–´ì‹œìŠ¤í„´íŠ¸ì…ë‹ˆë‹¤.

**ì—­í• **:
- CRM ë§¤ë‰´ì–¼ì„ ê¸°ë°˜ìœ¼ë¡œ ì •í™•í•œ ì •ë³´ ì œê³µ
- ë‹¨ê³„ë³„ ê°€ì´ë“œ ì œì‹œ
- ì‚¬ìš©ì ì¹œí™”ì  ì„¤ëª…

**ì§€ì¹¨**:
1. í•­ìƒ ì œê³µëœ ì»¨í…ìŠ¤íŠ¸(ë§¤ë‰´ì–¼)ë¥¼ ê¸°ë°˜ìœ¼ë¡œ ë‹µë³€
2. í™•ì‹¤í•˜ì§€ ì•Šì€ ì •ë³´ëŠ” ì¶”ì¸¡í•˜ì§€ ì•ŠìŒ
3. ë§¤ë‰´ì–¼ì— ì—†ëŠ” ë‚´ìš©ì€ "ë§¤ë‰´ì–¼ì—ì„œ í•´ë‹¹ ì •ë³´ë¥¼ ì°¾ì„ ìˆ˜ ì—†ìŠµë‹ˆë‹¤" ëª…ì‹œ
4. ë‹¨ê³„ë³„ ì„¤ëª… ì‹œ ë²ˆí˜¸ ë§¤ê¸°ê¸° ì‚¬ìš©
5. ê´€ë ¨ ìŠ¤í¬ë¦°ìƒ·ì´ë‚˜ ê·¸ë¦¼ì´ ìˆìœ¼ë©´ ì–¸ê¸‰
6. ë‹µë³€ ë§ˆì§€ë§‰ì— ì¶œì²˜(í˜ì´ì§€ ë²ˆí˜¸) ëª…ì‹œ

**í˜•ì‹**:
- ê°„ê²°í•˜ê³  ëª…í™•í•œ ë¬¸ì¥
- ì „ë¬¸ ìš©ì–´ ì‚¬ìš© ì‹œ ê´„í˜¸ë¡œ ì„¤ëª… ì¶”ê°€
- í•„ìš”ì‹œ í‘œ í˜•ì‹ ì‚¬ìš©
"""

USER_PROMPT_TEMPLATE = """
**ì§ˆë¬¸**: {query}

**ê´€ë ¨ ë§¤ë‰´ì–¼ ë‚´ìš©**:
{context}

**ì§€ì‹œì‚¬í•­**:
ìœ„ ë§¤ë‰´ì–¼ ë‚´ìš©ì„ ë°”íƒ•ìœ¼ë¡œ ì§ˆë¬¸ì— ë‹µë³€í•´ì£¼ì„¸ìš”.
ë‹µë³€ ë§ˆì§€ë§‰ì— [ì¶œì²˜: í˜ì´ì§€ X, ì„¹ì…˜ Y] í˜•ì‹ìœ¼ë¡œ ì¶œì²˜ë¥¼ ëª…ì‹œí•˜ì„¸ìš”.
"""
```

---

## 5. ê¸°ìˆ  ìŠ¤íƒ

### 5.1 ë°±ì—”ë“œ

| êµ¬ë¶„ | ê¸°ìˆ  | ë²„ì „ | ìš©ë„ |
|------|------|------|------|
| **Framework** | FastAPI | 0.104+ | API ì„œë²„ |
| **Language** | Python | 3.11+ | ì£¼ ê°œë°œ ì–¸ì–´ |
| **LLM Framework** | LangChain | 0.1+ | RAG íŒŒì´í”„ë¼ì¸ |
| **Vector DB** | Qdrant / Weaviate | Latest | ë²¡í„° ì €ì¥ì†Œ |
| **Cache** | Redis | 7.0+ | ì‘ë‹µ ìºì‹± |
| **Task Queue** | Celery | 5.3+ | ë¹„ë™ê¸° ì‘ì—… |

### 5.2 AI/ML

| êµ¬ë¶„ | ëª¨ë¸ | ìš©ë„ |
|------|------|------|
| **LLM** | GPT-4 / Claude 3.5 Sonnet | ë‹µë³€ ìƒì„± |
| **Embedding** | OpenAI text-embedding-3-large | ë²¡í„° ì„ë² ë”© |
| **Reranker** | ms-marco-MiniLM-L-12-v2 | ê²€ìƒ‰ ê²°ê³¼ ì¬ì •ë ¬ |
| **Language Detection** | langdetect / fasttext | ì–¸ì–´ ê°ì§€ |

### 5.3 í”„ë¡ íŠ¸ì—”ë“œ (Optional)

| êµ¬ë¶„ | ê¸°ìˆ  | ìš©ë„ |
|------|------|------|
| **Framework** | React / Next.js | ì›¹ UI |
| **UI Library** | shadcn/ui | ì»´í¬ë„ŒíŠ¸ |
| **State** | Zustand | ìƒíƒœ ê´€ë¦¬ |
| **API Client** | Axios | HTTP í†µì‹  |

### 5.4 ì¸í”„ë¼

| êµ¬ë¶„ | ê¸°ìˆ  | ìš©ë„ |
|------|------|------|
| **Container** | Docker | ì»¨í…Œì´ë„ˆí™” |
| **Orchestration** | Kubernetes | ì˜¤ì¼€ìŠ¤íŠ¸ë ˆì´ì…˜ |
| **CI/CD** | GitHub Actions | ìë™ ë°°í¬ |
| **Monitoring** | Prometheus + Grafana | ëª¨ë‹ˆí„°ë§ |
| **Logging** | ELK Stack | ë¡œê·¸ ê´€ë¦¬ |

---

## 6. ë°ì´í„°ë² ì´ìŠ¤ ìŠ¤í‚¤ë§ˆ

### 6.1 Vector Database (Qdrant)

#### Collection êµ¬ì¡°
```json
{
  "collection_name": "crm_account_ko",
  "vectors": {
    "size": 1536,  // OpenAI embedding dimension
    "distance": "Cosine"
  },
  "payload_schema": {
    "chunk_id": "string",
    "text": "string",
    "document_id": "string",
    "type": "keyword",      // account/meeting/order/common
    "language": "keyword",  // korean/english
    "section": "string",
    "section_title": "string",
    "page": "integer",
    "keywords": "string[]",
    "created_at": "datetime"
  }
}
```

### 6.2 ê´€ê³„í˜• DB (PostgreSQL)

#### documents í…Œì´ë¸”
```sql
CREATE TABLE documents (
    document_id VARCHAR(50) PRIMARY KEY,
    type VARCHAR(20) NOT NULL,  -- account/meeting/order/common
    language VARCHAR(10) NOT NULL,  -- korean/english
    version VARCHAR(10) NOT NULL,
    source_file VARCHAR(255) NOT NULL,
    total_pages INTEGER,
    checksum VARCHAR(64),
    uploaded_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_updated TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status VARCHAR(20) DEFAULT 'active'  -- active/archived
);

CREATE INDEX idx_documents_type_lang ON documents(type, language);
```

#### chunks í…Œì´ë¸”
```sql
CREATE TABLE chunks (
    chunk_id VARCHAR(100) PRIMARY KEY,
    document_id VARCHAR(50) REFERENCES documents(document_id),
    text TEXT NOT NULL,
    section VARCHAR(20),
    section_title VARCHAR(200),
    page INTEGER,
    chunk_index INTEGER,
    token_count INTEGER,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_chunks_document ON chunks(document_id);
CREATE INDEX idx_chunks_page ON chunks(page);
```

#### chat_sessions í…Œì´ë¸”
```sql
CREATE TABLE chat_sessions (
    session_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    user_id VARCHAR(50) NOT NULL,
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    last_activity TIMESTAMP DEFAULT CURRENT_TIMESTAMP,
    status VARCHAR(20) DEFAULT 'active'
);

CREATE INDEX idx_sessions_user ON chat_sessions(user_id);
```

#### chat_messages í…Œì´ë¸”
```sql
CREATE TABLE chat_messages (
    message_id UUID PRIMARY KEY DEFAULT gen_random_uuid(),
    session_id UUID REFERENCES chat_sessions(session_id),
    role VARCHAR(10) NOT NULL,  -- user/assistant
    content TEXT NOT NULL,
    language VARCHAR(10),
    intent_type VARCHAR(20),  -- classified document type
    source_chunks TEXT[],  -- Array of chunk_ids used
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_messages_session ON chat_messages(session_id);
```

#### query_analytics í…Œì´ë¸”
```sql
CREATE TABLE query_analytics (
    id SERIAL PRIMARY KEY,
    session_id UUID REFERENCES chat_sessions(session_id),
    query TEXT NOT NULL,
    language VARCHAR(10),
    intent_type VARCHAR(20),
    retrieval_time_ms INTEGER,
    generation_time_ms INTEGER,
    total_time_ms INTEGER,
    chunks_retrieved INTEGER,
    user_feedback INTEGER,  -- 1-5 rating, NULL if no feedback
    created_at TIMESTAMP DEFAULT CURRENT_TIMESTAMP
);

CREATE INDEX idx_analytics_created ON query_analytics(created_at);
CREATE INDEX idx_analytics_feedback ON query_analytics(user_feedback);
```

---

## 7. API ì„¤ê³„

### 7.1 ì—”ë“œí¬ì¸íŠ¸ ëª©ë¡

#### 7.1.1 Chat API

**POST /api/v1/chat/query**
```json
// Request
{
  "session_id": "uuid-string",  // optional
  "query": "ê±°ë˜ì„  ë“±ë¡ ë°©ë²•ì„ ì•Œë ¤ì£¼ì„¸ìš”",
  "language": "auto",  // auto/korean/english
  "context": {
    "previous_messages": []  // optional, for context
  }
}

// Response
{
  "session_id": "uuid-string",
  "message_id": "uuid-string",
  "answer": "ê±°ë˜ì„ ì„ ë“±ë¡í•˜ë ¤ë©´ ë‹¤ìŒ ë‹¨ê³„ë¥¼ ë”°ë¥´ì„¸ìš”...",
  "sources": [
    {
      "chunk_id": "crm_account_ko_p15_c1",
      "document": "P_INTL_CRM ë§¤ë‰´ì–¼(êµ­ë¬¸)_ê±°ë˜ì„ &ì—°ë½ì²˜",
      "section": "2.1 ê±°ë˜ì„  ë“±ë¡ ì ˆì°¨",
      "page": 15,
      "relevance_score": 0.95
    }
  ],
  "metadata": {
    "language": "korean",
    "intent_type": "account_contact",
    "retrieval_time_ms": 234,
    "generation_time_ms": 1456,
    "total_time_ms": 1690
  }
}
```

**GET /api/v1/chat/sessions/{session_id}/history**
```json
// Response
{
  "session_id": "uuid-string",
  "messages": [
    {
      "message_id": "uuid-1",
      "role": "user",
      "content": "ê±°ë˜ì„  ë“±ë¡ ë°©ë²•ì€?",
      "created_at": "2025-11-03T10:00:00Z"
    },
    {
      "message_id": "uuid-2",
      "role": "assistant",
      "content": "ê±°ë˜ì„ ì„ ë“±ë¡í•˜ë ¤ë©´...",
      "sources": [...],
      "created_at": "2025-11-03T10:00:02Z"
    }
  ]
}
```

**POST /api/v1/chat/feedback**
```json
// Request
{
  "message_id": "uuid-string",
  "rating": 5,  // 1-5
  "comment": "ë§¤ìš° ë„ì›€ì´ ë˜ì—ˆìŠµë‹ˆë‹¤"  // optional
}

// Response
{
  "status": "success",
  "message": "í”¼ë“œë°±ì´ ì €ì¥ë˜ì—ˆìŠµë‹ˆë‹¤"
}
```

#### 7.1.2 Document Management API

**GET /api/v1/documents**
```json
// Response
{
  "documents": [
    {
      "document_id": "crm_account_ko_v1",
      "type": "account_contact",
      "language": "korean",
      "version": "1.0",
      "total_pages": 150,
      "status": "active",
      "last_updated": "2025-11-03T09:00:00Z"
    }
  ]
}
```

**POST /api/v1/documents/upload**
```json
// Request (multipart/form-data)
{
  "file": "<PDF file>",
  "type": "account_contact",
  "language": "korean",
  "version": "1.1"
}

// Response
{
  "document_id": "crm_account_ko_v1_1",
  "status": "processing",
  "estimated_time_minutes": 5
}
```

**POST /api/v1/documents/{document_id}/reindex**
```json
// Response
{
  "status": "started",
  "job_id": "reindex-job-123"
}
```

#### 7.1.3 Analytics API

**GET /api/v1/analytics/usage**
```json
// Query params: ?start_date=2025-11-01&end_date=2025-11-03

// Response
{
  "period": {
    "start": "2025-11-01",
    "end": "2025-11-03"
  },
  "metrics": {
    "total_queries": 1250,
    "unique_users": 456,
    "avg_response_time_ms": 1823,
    "avg_rating": 4.3,
    "queries_by_type": {
      "account_contact": 450,
      "meeting_memo": 320,
      "order_fulfillment": 280,
      "common_master": 200
    },
    "queries_by_language": {
      "korean": 980,
      "english": 270
    }
  }
}
```

**GET /api/v1/analytics/popular-queries**
```json
// Response
{
  "queries": [
    {
      "query": "ê±°ë˜ì„  ë“±ë¡ ë°©ë²•",
      "count": 45,
      "avg_rating": 4.5
    },
    {
      "query": "ë¯¸íŒ…ë©”ëª¨ ì‘ì„±",
      "count": 38,
      "avg_rating": 4.2
    }
  ]
}
```

---

## 8. ë³´ì•ˆ ë° ê¶Œí•œ ê´€ë¦¬

### 8.1 ì¸ì¦ (Authentication)

#### JWT ê¸°ë°˜ ì¸ì¦
```python
# Token êµ¬ì¡°
{
  "sub": "user@poscointl.com",  # User email
  "user_id": "12345",
  "name": "í™ê¸¸ë™",
  "department": "ì˜ì—…1íŒ€",
  "role": "user",  # user/admin
  "exp": 1730678400,  # Expiration timestamp
  "iat": 1730592000   # Issued at
}
```

#### SSO í†µí•© (POSCO ì‚¬ë‚´ ì‹œìŠ¤í…œ)
- SAML 2.0 / OAuth 2.0 ì—°ë™
- ê¸°ì¡´ EP ì‹œìŠ¤í…œ ì¸ì¦ ì •ë³´ í™œìš©

### 8.2 ê¶Œí•œ ê´€ë¦¬ (Authorization)

| ì—­í•  | ê¶Œí•œ |
|------|------|
| **User** | - ì±—ë´‡ ì§ˆë¬¸<br>- ëŒ€í™” ì´ë ¥ ì¡°íšŒ<br>- í”¼ë“œë°± ì œì¶œ |
| **Admin** | - User ê¶Œí•œ ì „ì²´<br>- ë¬¸ì„œ ì—…ë¡œë“œ/ì‚­ì œ<br>- ë¶„ì„ ëŒ€ì‹œë³´ë“œ ì ‘ê·¼<br>- ì‹œìŠ¤í…œ ì„¤ì • ë³€ê²½ |
| **Super Admin** | - Admin ê¶Œí•œ ì „ì²´<br>- ì‚¬ìš©ì ê´€ë¦¬<br>- ì‹œìŠ¤í…œ ì¬ì‹œì‘ |

### 8.3 ë°ì´í„° ë³´ì•ˆ

#### ì „ì†¡ êµ¬ê°„ ì•”í˜¸í™”
- **HTTPS/TLS 1.3** í•„ìˆ˜
- API í‚¤ ì•”í˜¸í™” ì €ì¥ (Vault)

#### ì €ì¥ ë°ì´í„° ë³´í˜¸
- **ê°œì¸ì •ë³´ ë§ˆìŠ¤í‚¹**: ë¡œê·¸ì—ì„œ ì´ë©”ì¼, ì´ë¦„ ìë™ ë§ˆìŠ¤í‚¹
- **ë°ì´í„° ì•”í˜¸í™”**: DB ì»¬ëŸ¼ ì•”í˜¸í™” (AES-256)
- **ë°±ì—… ì•”í˜¸í™”**: ë°±ì—… íŒŒì¼ ì•”í˜¸í™” ì €ì¥

#### ì ‘ê·¼ ë¡œê·¸
```python
# ëª¨ë“  API ìš”ì²­ ë¡œê¹…
{
  "timestamp": "2025-11-03T10:00:00Z",
  "user_id": "12345",
  "ip_address": "192.168.1.100",
  "endpoint": "/api/v1/chat/query",
  "method": "POST",
  "response_time_ms": 1823,
  "status_code": 200
}
```

---

## 9. ì„±ëŠ¥ ìµœì í™” ì „ëµ

### 9.1 ìºì‹± ì „ëµ

#### 9.1.1 Redis ìºì‹œ êµ¬ì¡°
```python
# ìì£¼ ë¬»ëŠ” ì§ˆë¬¸ ìºì‹±
CACHE_KEY = f"query:{hash(query)}:{language}"
CACHE_TTL = 3600  # 1 hour

# ìºì‹œ íˆíŠ¸ ì‹œ ì¦‰ì‹œ ë°˜í™˜ (< 50ms)
cached_answer = redis.get(CACHE_KEY)
if cached_answer:
    return cached_answer
```

#### 9.1.2 ë²¡í„° ê²€ìƒ‰ ìºì‹±
```python
# ì„ë² ë”© ìºì‹±
EMBEDDING_CACHE_KEY = f"embedding:{hash(text)}"
EMBEDDING_TTL = 86400  # 24 hours

# ë™ì¼ ì¿¼ë¦¬ ë°˜ë³µ ì‹œ ì„ë² ë”© ì¬ê³„ì‚° ë°©ì§€
```

### 9.2 ì¸ë±ì‹± ìµœì í™”

#### Vector DB ì¸ë±ìŠ¤
```python
# HNSW (Hierarchical Navigable Small World) ì¸ë±ìŠ¤
index_params = {
    "m": 16,        # Number of connections
    "ef_construct": 200,  # Construction time accuracy
    "ef": 100       # Search time accuracy
}
# Trade-off: ì •í™•ë„ vs ì†ë„
```

### 9.3 ë°°ì¹˜ ì²˜ë¦¬

```python
# ë¬¸ì„œ ì—…ë¡œë“œ ì‹œ ë¹„ë™ê¸° ì²˜ë¦¬
@celery.task
def process_document(document_id):
    # 1. PDF íŒŒì‹±
    # 2. ì²­í‚¹
    # 3. ì„ë² ë”© (ë°°ì¹˜ ì²˜ë¦¬)
    # 4. ë²¡í„° DB ì €ì¥

# ë°°ì¹˜ ì„ë² ë”© (100ê°œ ì²­í¬ì”©)
embeddings = openai.Embedding.create(
    input=chunk_texts,  # List of 100 texts
    model="text-embedding-3-large"
)
```

### 9.4 ì„±ëŠ¥ ëª©í‘œ

| ì§€í‘œ | ëª©í‘œ | ì¸¡ì • ë°©ë²• |
|------|------|----------|
| **ì‘ë‹µ ì‹œê°„ (P50)** | < 2ì´ˆ | Prometheus |
| **ì‘ë‹µ ì‹œê°„ (P95)** | < 4ì´ˆ | Prometheus |
| **ìºì‹œ íˆíŠ¸ìœ¨** | > 30% | Redis Stats |
| **ê²€ìƒ‰ ì •í™•ë„** | > 95% | ì‚¬ìš©ì í”¼ë“œë°± |
| **ë™ì‹œ ì‚¬ìš©ì** | 500+ | Load Test |
| **ì‹œìŠ¤í…œ ê°€ìš©ë¥ ** | 99.9% | Uptime Monitor |

---

## 10. í…ŒìŠ¤íŠ¸ ì „ëµ

### 10.1 ë‹¨ìœ„ í…ŒìŠ¤íŠ¸

```python
# tests/test_query_preprocessor.py
def test_language_detection():
    assert detect_language("ê±°ë˜ì„  ë“±ë¡ ë°©ë²•") == "korean"
    assert detect_language("How to register account") == "english"

def test_intent_classification():
    query = "ê±°ë˜ì„  ë‹´ë‹¹ìë¥¼ ì¶”ê°€í•˜ë ¤ë©´?"
    assert classify_intent(query) == "account_contact"
```

### 10.2 í†µí•© í…ŒìŠ¤íŠ¸

```python
# tests/test_rag_pipeline.py
def test_end_to_end_query():
    query = "ë¯¸íŒ…ë©”ëª¨ ì‘ì„± ë°©ë²•"
    response = rag_pipeline.process(query)

    assert response.answer is not None
    assert len(response.sources) > 0
    assert response.metadata.language == "korean"
    assert "ë¯¸íŒ…" in response.answer
```

### 10.3 ì„±ëŠ¥ í…ŒìŠ¤íŠ¸

```python
# tests/test_performance.py
def test_response_time():
    query = "ê±°ë˜ì„  ë“±ë¡ ë°©ë²•"
    start = time.time()
    response = chat_api.query(query)
    elapsed = time.time() - start

    assert elapsed < 2.0  # Must respond within 2 seconds
```

### 10.4 í…ŒìŠ¤íŠ¸ ë°ì´í„°ì…‹

```json
// tests/fixtures/test_queries.json
[
  {
    "query": "ê±°ë˜ì„  ë“±ë¡ ë°©ë²•ì€?",
    "expected_intent": "account_contact",
    "expected_language": "korean",
    "expected_sources": ["crm_account_ko"]
  },
  {
    "query": "How to create a meeting memo?",
    "expected_intent": "meeting_memo",
    "expected_language": "english",
    "expected_sources": ["crm_meeting_en"]
  }
]
```

### 10.5 í‰ê°€ ë©”íŠ¸ë¦­

#### Retrieval í’ˆì§ˆ
```python
# Precision@K
def precision_at_k(retrieved_docs, relevant_docs, k):
    retrieved_k = retrieved_docs[:k]
    relevant_count = sum(1 for doc in retrieved_k if doc in relevant_docs)
    return relevant_count / k

# MRR (Mean Reciprocal Rank)
def mean_reciprocal_rank(results):
    reciprocal_ranks = []
    for result in results:
        for i, doc in enumerate(result.retrieved_docs, 1):
            if doc in result.relevant_docs:
                reciprocal_ranks.append(1 / i)
                break
    return sum(reciprocal_ranks) / len(results)
```

#### Generation í’ˆì§ˆ
```python
# BLEU Score (ì°¸ì¡° ë‹µë³€ê³¼ ë¹„êµ)
# ROUGE Score
# BERTScore (ì˜ë¯¸ì  ìœ ì‚¬ë„)
```

---

## 11. ë°°í¬ ë° ìš´ì˜

### 11.1 Docker êµ¬ì„±

```dockerfile
# Dockerfile
FROM python:3.11-slim

WORKDIR /app

# Install dependencies
COPY requirements.txt .
RUN pip install --no-cache-dir -r requirements.txt

# Copy application
COPY . .

# Expose port
EXPOSE 8000

# Run application
CMD ["uvicorn", "main:app", "--host", "0.0.0.0", "--port", "8000"]
```

### 11.2 Docker Compose

```yaml
# docker-compose.yml
version: '3.8'

services:
  api:
    build: .
    ports:
      - "8000:8000"
    environment:
      - OPENAI_API_KEY=${OPENAI_API_KEY}
      - QDRANT_URL=http://qdrant:6333
      - REDIS_URL=redis://redis:6379
      - POSTGRES_URL=postgresql://user:pass@postgres:5432/crm_bot
    depends_on:
      - qdrant
      - redis
      - postgres

  qdrant:
    image: qdrant/qdrant:latest
    ports:
      - "6333:6333"
    volumes:
      - qdrant_data:/qdrant/storage

  redis:
    image: redis:7-alpine
    ports:
      - "6379:6379"

  postgres:
    image: postgres:15-alpine
    environment:
      - POSTGRES_USER=user
      - POSTGRES_PASSWORD=pass
      - POSTGRES_DB=crm_bot
    volumes:
      - postgres_data:/var/lib/postgresql/data

  celery:
    build: .
    command: celery -A tasks worker --loglevel=info
    depends_on:
      - redis

volumes:
  qdrant_data:
  postgres_data:
```

### 11.3 Kubernetes ë°°í¬ (ì„ íƒì‚¬í•­)

```yaml
# k8s/deployment.yaml
apiVersion: apps/v1
kind: Deployment
metadata:
  name: crm-chatbot-api
spec:
  replicas: 3
  selector:
    matchLabels:
      app: crm-chatbot-api
  template:
    metadata:
      labels:
        app: crm-chatbot-api
    spec:
      containers:
      - name: api
        image: posco/crm-chatbot:latest
        ports:
        - containerPort: 8000
        env:
        - name: OPENAI_API_KEY
          valueFrom:
            secretKeyRef:
              name: api-secrets
              key: openai-key
        resources:
          requests:
            memory: "512Mi"
            cpu: "500m"
          limits:
            memory: "2Gi"
            cpu: "2000m"
```

### 11.4 ëª¨ë‹ˆí„°ë§

#### Prometheus Metrics
```python
from prometheus_client import Counter, Histogram

# ë©”íŠ¸ë¦­ ì •ì˜
query_counter = Counter('chatbot_queries_total', 'Total queries')
response_time = Histogram('chatbot_response_seconds', 'Response time')
cache_hits = Counter('chatbot_cache_hits', 'Cache hits')

# ì‚¬ìš©
@response_time.time()
def process_query(query):
    query_counter.inc()
    # ... ì²˜ë¦¬ ë¡œì§
```

#### Grafana Dashboard
- ì‹¤ì‹œê°„ ì¿¼ë¦¬ ìˆ˜
- í‰ê·  ì‘ë‹µ ì‹œê°„
- ìºì‹œ íˆíŠ¸ìœ¨
- ì—ëŸ¬ìœ¨
- ì‚¬ìš©ì ë§Œì¡±ë„ (í‰ê·  í‰ì )

### 11.5 ë¡œê¹…

```python
# logging_config.py
import logging

LOGGING_CONFIG = {
    "version": 1,
    "disable_existing_loggers": False,
    "formatters": {
        "default": {
            "format": "%(asctime)s - %(name)s - %(levelname)s - %(message)s"
        },
        "json": {
            "()": "pythonjsonlogger.jsonlogger.JsonFormatter",
            "format": "%(asctime)s %(name)s %(levelname)s %(message)s"
        }
    },
    "handlers": {
        "console": {
            "class": "logging.StreamHandler",
            "formatter": "default"
        },
        "file": {
            "class": "logging.handlers.RotatingFileHandler",
            "filename": "logs/app.log",
            "maxBytes": 10485760,  # 10MB
            "backupCount": 5,
            "formatter": "json"
        }
    },
    "root": {
        "level": "INFO",
        "handlers": ["console", "file"]
    }
}
```

---

## 12. êµ¬í˜„ ë¡œë“œë§µ

### Phase 1: MVP (2ì£¼)
**ëª©í‘œ**: ê¸°ë³¸ RAG ì±—ë´‡ êµ¬ì¶•

- [ ] **Week 1**: ë°ì´í„° ì¤€ë¹„ ë° ì¸í”„ë¼ ì„¤ì •
  - [ ] PDF íŒŒì‹± ë° ì²­í‚¹ (2ì¼)
  - [ ] Vector DB ì„¤ì • (Qdrant) (1ì¼)
  - [ ] ì„ë² ë”© ìƒì„± ë° ì¸ë±ì‹± (2ì¼)
  - [ ] ê¸°ë³¸ API ì„œë²„ êµ¬ì¶• (FastAPI) (2ì¼)

- [ ] **Week 2**: RAG íŒŒì´í”„ë¼ì¸ êµ¬í˜„
  - [ ] ê¸°ë³¸ ê²€ìƒ‰ ë¡œì§ (Vector Search) (2ì¼)
  - [ ] LLM í†µí•© (OpenAI/Claude) (1ì¼)
  - [ ] í”„ë¡¬í”„íŠ¸ ì—”ì§€ë‹ˆì–´ë§ (1ì¼)
  - [ ] ê°„ë‹¨í•œ ì›¹ UI (Streamlit) (2ì¼)
  - [ ] ë‚´ë¶€ í…ŒìŠ¤íŠ¸ (1ì¼)

**ì‚°ì¶œë¬¼**:
- ì‘ë™í•˜ëŠ” ê¸°ë³¸ ì±—ë´‡
- í•œêµ­ì–´ ë§¤ë‰´ì–¼ 1ê°œ (Account) ì§€ì›
- ê°„ë‹¨í•œ ì›¹ ì¸í„°í˜ì´ìŠ¤

---

### Phase 2: ê³ ë„í™” (2ì£¼)
**ëª©í‘œ**: ê²€ìƒ‰ ì •í™•ë„ í–¥ìƒ ë° ì „ì²´ ë¬¸ì„œ í†µí•©

- [ ] **Week 3**: ê²€ìƒ‰ ê°œì„ 
  - [ ] í•˜ì´ë¸Œë¦¬ë“œ ê²€ìƒ‰ êµ¬í˜„ (BM25 + Vector) (2ì¼)
  - [ ] Reranking ì¶”ê°€ (Cross-Encoder) (1ì¼)
  - [ ] ì „ì²´ 8ê°œ ë¬¸ì„œ ì¸ë±ì‹± (2ì¼)
  - [ ] ìŠ¤ë§ˆíŠ¸ ë¼ìš°íŒ… ì‹œìŠ¤í…œ êµ¬í˜„ (2ì¼)

- [ ] **Week 4**: ë‹¤êµ­ì–´ ë° ìµœì í™”
  - [ ] ì–¸ì–´ ìë™ ê°ì§€ ë° ì²˜ë¦¬ (1ì¼)
  - [ ] ì˜ë„ ë¶„ë¥˜ ê°œì„  (1ì¼)
  - [ ] ìºì‹± ì‹œìŠ¤í…œ (Redis) (1ì¼)
  - [ ] ì„±ëŠ¥ í…ŒìŠ¤íŠ¸ ë° íŠœë‹ (2ì¼)

**ì‚°ì¶œë¬¼**:
- ì „ì²´ 8ê°œ ë¬¸ì„œ ì§€ì›
- í•œ/ì˜ ìë™ ì „í™˜
- ì‘ë‹µ ì‹œê°„ < 3ì´ˆ

---

### Phase 3: í”„ë¡œë•ì…˜ ì¤€ë¹„ (2ì£¼)
**ëª©í‘œ**: ë³´ì•ˆ, ëª¨ë‹ˆí„°ë§, ìš´ì˜ ì¤€ë¹„

- [ ] **Week 5**: ë³´ì•ˆ ë° ì¸ì¦
  - [ ] JWT ì¸ì¦ êµ¬í˜„ (1ì¼)
  - [ ] SSO ì—°ë™ (POSCO ì‚¬ë‚´ ì‹œìŠ¤í…œ) (2ì¼)
  - [ ] API Rate Limiting (1ì¼)
  - [ ] ë¡œê¹… ì‹œìŠ¤í…œ êµ¬ì¶• (1ì¼)

- [ ] **Week 6**: ëª¨ë‹ˆí„°ë§ ë° ë¶„ì„
  - [ ] Prometheus + Grafana ì„¤ì • (1ì¼)
  - [ ] ì‚¬ìš©ì í”¼ë“œë°± ì‹œìŠ¤í…œ (1ì¼)
  - [ ] ë¶„ì„ ëŒ€ì‹œë³´ë“œ (1ì¼)
  - [ ] ë¶€í•˜ í…ŒìŠ¤íŠ¸ (1ì¼)
  - [ ] ë¬¸ì„œí™” ì™„ì„± (1ì¼)

**ì‚°ì¶œë¬¼**:
- í”„ë¡œë•ì…˜ í™˜ê²½ ë°°í¬ ì¤€ë¹„ ì™„ë£Œ
- ëª¨ë‹ˆí„°ë§ ëŒ€ì‹œë³´ë“œ
- ìš´ì˜ ë§¤ë‰´ì–¼

---

### Phase 4: ì¶œì‹œ ë° ìš´ì˜ (ì§„í–‰ì¤‘)
**ëª©í‘œ**: ì‹¤ì‚¬ìš©ì í”¼ë“œë°± ê¸°ë°˜ ê°œì„ 

- [ ] **Week 7-8**: íŒŒì¼ëŸ¿ ìš´ì˜
  - [ ] ì œí•œëœ ì‚¬ìš©ì ê·¸ë£¹ ì˜¤í”ˆ (10-20ëª…)
  - [ ] í”¼ë“œë°± ìˆ˜ì§‘ ë° ë¶„ì„
  - [ ] ë²„ê·¸ ìˆ˜ì • ë° ê°œì„ 
  - [ ] ì¶”ê°€ FAQ ë°ì´í„° êµ¬ì¶•

- [ ] **Week 9+**: ì „ì‚¬ í™•ëŒ€
  - [ ] ì „ì²´ ì„ì§ì› ì˜¤í”ˆ
  - [ ] ì§€ì†ì  ëª¨ë‹ˆí„°ë§
  - [ ] ì •ê¸°ì  ëª¨ë¸ ì—…ë°ì´íŠ¸
  - [ ] ì‹ ê·œ ë§¤ë‰´ì–¼ ì¶”ê°€

**ì‚°ì¶œë¬¼**:
- ì•ˆì •ì ì¸ ì„œë¹„ìŠ¤ ìš´ì˜
- ì£¼ê°„ ë¶„ì„ ë¦¬í¬íŠ¸
- ê°œì„  ì‚¬í•­ ì§€ì† ë°˜ì˜

---

### ì¥ê¸° ë¡œë“œë§µ (3-6ê°œì›”)

#### ì¶”ê°€ ê¸°ëŠ¥
- [ ] **ìŒì„± ì¸í„°í˜ì´ìŠ¤**: ìŒì„± ì§ˆë¬¸ â†’ ìŒì„± ë‹µë³€
- [ ] **ì´ë¯¸ì§€ ê²€ìƒ‰**: ìŠ¤í¬ë¦°ìƒ· ì—…ë¡œë“œ â†’ í•´ë‹¹ í™”ë©´ ì„¤ëª…
- [ ] **ë©€í‹°ëª¨ë‹¬**: ë§¤ë‰´ì–¼ ì´ë¯¸ì§€ ì§ì ‘ í‘œì‹œ
- [ ] **ì¶”ì²œ ì‹œìŠ¤í…œ**: "ì´ ë‹µë³€ì´ ë„ì›€ì´ ë˜ì—ˆë‹¤ë©´, ì´ê²ƒë„ ì°¸ê³ í•˜ì„¸ìš”"
- [ ] **Slack/Teams ë´‡**: ë©”ì‹ ì € í†µí•©
- [ ] **ëª¨ë°”ì¼ ì•±**: iOS/Android ë„¤ì´í‹°ë¸Œ ì•±

#### ê³ ê¸‰ ê¸°ëŠ¥
- [ ] **Fine-tuning**: CRM ë„ë©”ì¸ íŠ¹í™” ëª¨ë¸
- [ ] **A/B í…ŒìŠ¤íŠ¸**: í”„ë¡¬í”„íŠ¸/ëª¨ë¸ ì„±ëŠ¥ ë¹„êµ
- [ ] **ìë™ ì—…ë°ì´íŠ¸**: ë§¤ë‰´ì–¼ ë³€ê²½ ì‹œ ìë™ ì¬ì¸ë±ì‹±
- [ ] **ë‹¤êµ­ì–´ í™•ì¥**: ì¤‘êµ­ì–´, ì¼ë³¸ì–´ ì¶”ê°€

---

## 13. ìœ„í—˜ ê´€ë¦¬ ë° ëŒ€ì‘

### 13.1 ê¸°ìˆ ì  ìœ„í—˜

| ìœ„í—˜ | ì˜í–¥ | í™•ë¥  | ëŒ€ì‘ ë°©ì•ˆ |
|------|------|------|----------|
| **LLM API ì¥ì• ** | ë†’ìŒ | ì¤‘ê°„ | Fallback ëª¨ë¸ ì¤€ë¹„ (Claude â†” GPT) |
| **ë²¡í„° DB ì„±ëŠ¥ ì €í•˜** | ì¤‘ê°„ | ë‚®ìŒ | ì¸ë±ìŠ¤ ìµœì í™”, ìƒ¤ë”© |
| **ë©”ëª¨ë¦¬ ë¶€ì¡±** | ì¤‘ê°„ | ì¤‘ê°„ | ë°°ì¹˜ í¬ê¸° ì¡°ì ˆ, ìŠ¤íŠ¸ë¦¬ë° |
| **ì„ë² ë”© ë¹„ìš© ì´ˆê³¼** | ë‚®ìŒ | ì¤‘ê°„ | ìºì‹± ê°•í™”, ë°°ì¹˜ ì²˜ë¦¬ |

### 13.2 ìš´ì˜ ìœ„í—˜

| ìœ„í—˜ | ì˜í–¥ | í™•ë¥  | ëŒ€ì‘ ë°©ì•ˆ |
|------|------|------|----------|
| **ë¶€ì •í™•í•œ ë‹µë³€** | ë†’ìŒ | ì¤‘ê°„ | í”¼ë“œë°± ë£¨í”„, ì§€ì† ê°œì„  |
| **ë§¤ë‰´ì–¼ ì—…ë°ì´íŠ¸ ë¯¸ë°˜ì˜** | ì¤‘ê°„ | ë†’ìŒ | ìë™ ëª¨ë‹ˆí„°ë§, ì£¼ê¸°ì  ì¬ì¸ë±ì‹± |
| **ì‚¬ìš©ì ë¶ˆë§Œì¡±** | ì¤‘ê°„ | ì¤‘ê°„ | í”¼ë“œë°± ì‹œìŠ¤í…œ, A/B í…ŒìŠ¤íŠ¸ |
| **ë™ì‹œ ì ‘ì† í­ì£¼** | ë†’ìŒ | ë‚®ìŒ | Auto-scaling, Queue ì‹œìŠ¤í…œ |

---

## 14. ì°¸ê³  ìë£Œ

### 14.1 ê¸°ìˆ  ë¬¸ì„œ
- [LangChain Documentation](https://python.langchain.com/)
- [Qdrant Documentation](https://qdrant.tech/documentation/)
- [OpenAI API Reference](https://platform.openai.com/docs/api-reference)
- [FastAPI Documentation](https://fastapi.tiangolo.com/)

### 14.2 ë…¼ë¬¸ ë° ìë£Œ
- **RAG**: "Retrieval-Augmented Generation for Knowledge-Intensive NLP Tasks" (Lewis et al., 2020)
- **Hybrid Search**: "Combining Lexical and Semantic Search" (Microsoft Research)
- **Chunking Strategy**: "Optimal Chunking for RAG Systems" (Pinecone Blog)

### 14.3 ì˜¤í”ˆì†ŒìŠ¤ ì°¸ê³ 
- [LangChain RAG Tutorials](https://github.com/langchain-ai/langchain)
- [Haystack Pipeline](https://github.com/deepset-ai/haystack)
- [LlamaIndex](https://github.com/run-llama/llama_index)

---

## 15. ë¶€ë¡

### 15.1 ìš©ì–´ ì •ì˜

| ìš©ì–´ | ì„¤ëª… |
|------|------|
| **RAG** | Retrieval-Augmented Generation, ê²€ìƒ‰ ì¦ê°• ìƒì„± |
| **Embedding** | í…ìŠ¤íŠ¸ë¥¼ ë²¡í„°ë¡œ ë³€í™˜í•œ ê²ƒ |
| **Chunking** | ë¬¸ì„œë¥¼ ì‘ì€ ë‹¨ìœ„ë¡œ ë¶„í•  |
| **Vector DB** | ë²¡í„° ì„ë² ë”©ì„ ì €ì¥í•˜ëŠ” ë°ì´í„°ë² ì´ìŠ¤ |
| **Reranking** | ê²€ìƒ‰ ê²°ê³¼ë¥¼ ì¬ì •ë ¬í•˜ì—¬ ì •í™•ë„ í–¥ìƒ |
| **BM25** | í‚¤ì›Œë“œ ê¸°ë°˜ ê²€ìƒ‰ ì•Œê³ ë¦¬ì¦˜ |
| **Cross-Encoder** | ì¿¼ë¦¬-ë¬¸ì„œ ìŒì˜ ê´€ë ¨ì„±ì„ ì§ì ‘ í‰ê°€í•˜ëŠ” ëª¨ë¸ |
| **RRF** | Reciprocal Rank Fusion, ì—¬ëŸ¬ ê²€ìƒ‰ ê²°ê³¼ ìœµí•© |

### 15.2 í”„ë¡œì íŠ¸ ë””ë ‰í† ë¦¬ êµ¬ì¡°

```
crm-rag-chatbot/
â”œâ”€â”€ src/
â”‚   â”œâ”€â”€ api/
â”‚   â”‚   â”œâ”€â”€ routes/
â”‚   â”‚   â”‚   â”œâ”€â”€ chat.py
â”‚   â”‚   â”‚   â”œâ”€â”€ documents.py
â”‚   â”‚   â”‚   â””â”€â”€ analytics.py
â”‚   â”‚   â”œâ”€â”€ middleware/
â”‚   â”‚   â””â”€â”€ main.py
â”‚   â”œâ”€â”€ core/
â”‚   â”‚   â”œâ”€â”€ config.py
â”‚   â”‚   â”œâ”€â”€ security.py
â”‚   â”‚   â””â”€â”€ logging.py
â”‚   â”œâ”€â”€ rag/
â”‚   â”‚   â”œâ”€â”€ preprocessor.py
â”‚   â”‚   â”œâ”€â”€ router.py
â”‚   â”‚   â”œâ”€â”€ retriever.py
â”‚   â”‚   â”œâ”€â”€ reranker.py
â”‚   â”‚   â””â”€â”€ generator.py
â”‚   â”œâ”€â”€ services/
â”‚   â”‚   â”œâ”€â”€ embedding_service.py
â”‚   â”‚   â”œâ”€â”€ vector_service.py
â”‚   â”‚   â””â”€â”€ llm_service.py
â”‚   â”œâ”€â”€ models/
â”‚   â”‚   â”œâ”€â”€ database.py
â”‚   â”‚   â””â”€â”€ schemas.py
â”‚   â””â”€â”€ utils/
â”‚       â”œâ”€â”€ pdf_parser.py
â”‚       â”œâ”€â”€ chunker.py
â”‚       â””â”€â”€ text_processor.py
â”œâ”€â”€ data/
â”‚   â”œâ”€â”€ raw/              # ì›ë³¸ PDF
â”‚   â”œâ”€â”€ processed/        # ì²˜ë¦¬ëœ ì²­í¬
â”‚   â””â”€â”€ embeddings/       # ì„ë² ë”© ìºì‹œ
â”œâ”€â”€ tests/
â”‚   â”œâ”€â”€ unit/
â”‚   â”œâ”€â”€ integration/
â”‚   â””â”€â”€ fixtures/
â”œâ”€â”€ scripts/
â”‚   â”œâ”€â”€ ingest_documents.py
â”‚   â”œâ”€â”€ create_indexes.py
â”‚   â””â”€â”€ benchmark.py
â”œâ”€â”€ config/
â”‚   â”œâ”€â”€ dev.yaml
â”‚   â”œâ”€â”€ prod.yaml
â”‚   â””â”€â”€ logging.yaml
â”œâ”€â”€ docker/
â”‚   â”œâ”€â”€ Dockerfile
â”‚   â””â”€â”€ docker-compose.yml
â”œâ”€â”€ k8s/
â”‚   â”œâ”€â”€ deployment.yaml
â”‚   â””â”€â”€ service.yaml
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ API.md
â”‚   â”œâ”€â”€ DEPLOYMENT.md
â”‚   â””â”€â”€ OPERATION.md
â”œâ”€â”€ requirements.txt
â”œâ”€â”€ setup.py
â”œâ”€â”€ .env.example
â”œâ”€â”€ .gitignore
â””â”€â”€ README.md
```

---

## ë³€ê²½ ì´ë ¥

| ë²„ì „ | ë‚ ì§œ | ë³€ê²½ ë‚´ìš© | ì‘ì„±ì |
|------|------|----------|--------|
| 1.0.0 | 2025-11-03 | ì´ˆì•ˆ ì‘ì„± | AI Team |

---

## ë¬¸ì˜

**í”„ë¡œì íŠ¸ ë‹´ë‹¹ì**: AI Development Team
**ì´ë©”ì¼**: ai-team@poscointl.com
**Slack**: #crm-chatbot-dev
